## AppManual - Manual モード（PCA9685 サーボ制御）

最終更新日: 2026年2月1日

### 🎯 役割
PCA9685 PWM ドライバを使用して、最大 8 個のサーボモーターを手動制御するアプリです。各サーボの角度（0～180度）をスライダーで調整し、リアルタイムに反映できます。

### 📁 ファイル
- `AppManual.h` - クラス定義（PCA9685 初期化、サーボ制御メソッド）
- `AppManual.cpp` - UI と制御ロジックの実装

### 🔧 ハードウェア構成
- **PCA9685**: I2C PWM ドライバ
  - I2C アドレス: 0x40（デフォルト）
  - I2C ピン: SDA=GPIO2, SCL=GPIO1（config.h で定義）
  - PWM 周波数: 50Hz（サーボ制御用）
  - サーボ接続: CH0～CH7（8個のサーボ）

### 🎮 主な機能
- **サーボ選択**: 8個のサーボボタン（S0～S7）をタッチして選択
- **角度調整**: 
  - スライダーをドラッグして 0～180度 を連続調整
  - [-10] / [+10] ボタンで 10度ずつ変更
- **動作確認**: [Test] ボタンで全サーボを 0度→90度→180度→90度と自動テスト

### 💡 実装例
サーボの角度設定:
```cpp
// 特定のサーボを 90 度に設定
setServoAngle(0, 90);  // サーボ 0 を 90 度に

// 全サーボの動作確認
testAllServos();
```

### 📍 画面レイアウト
```
┌─ TopBar（24px）─────────────────────┐
├─ タイトル ─────────────────────────┤
├─ Servo X: Y deg ──────────────────┤
├─ [S0][S1][S2][S3] ─────────────────┤
├─ [S4][S5][S6][S7] ─────────────────┤
├─ Angle: [◼────────────────] 0/180 ┤
├─ [<][-10][+10][>][Test] ──────────┤
└────────────────────────────────────┘
```

### ⚙️ mode 範囲
- 800～899: AppManual

### 🔌 依存ライブラリ
- `Adafruit PCA9685 PWM Servo Driver Library`: PCA9685 制御用

### ⚠️ 注意
- PCA9685 が I2C 0x40 で検出されない場合、Serial コンソールで "ERROR: PCA9685 not found..." メッセージが表示されます
- サーボの パルス幅設定（SERVO_MIN_PULSE=375µs, SERVO_MAX_PULSE=2400µs）は一般的なサーボに対応しています。異なるサーボを使用する場合は AppManual.h で調整してください
- 全サーボを同時に大きな角度に変更する場合、電流供給に注意してください

